{
    "family": "flask-signup",
    "containerDefinitions": [
        {
            "image": "public.ecr.aws/k1o3z8e3/app:latest",
            "name": "flask-signup",
            "cpu": 10,
            "memory": 256,
            "essential": true,
            "portMappings": [
                {
                    "containerPort": 5000,
                    "hostPort": 80
                }
            ]
        }
    ]
}
# sed -e "s;latest;0;g" flask-signup.json > flask-signup-v_0.json
# aws ecs register-task-definition --cli-input-json file://flask-signup-v_0.json
{
"taskDefinition": {
    "volumes": [],
    "taskDefinitionArn": "arn:aws:ecs:ap-northeast-2:123456789012:task-definition/flask-signup:1",
    "containerDefinitions": [
        {
            "name": "flask-signup",
            "image": "public.ecr.aws/k1o3z8e3/app:latest",
            "cpu": 10,
            "portMappings": [
                {
                    "containerPort": 5000,
                    "hostPort": 80
                }
            ],
            "memory": 256,
            "essential": true
        }
    ],
    "family": "flask-signup",
    "revision": 1
}
}
# aws ecs create-service --cluster default --service-name flask-signup-service --task-definition flask-signup --load-balancers loadBalancerName=elb-flask-signup-1985465812,containerName=flask-signup,containerPort=5000 --role ecs-service-role --desired-count 0
{
    "service": {
        "status": "ACTIVE",
        "taskDefinition": "arn:aws:ecs:ap-northeast-2:123456789012:task-definition/flask-signup:1",
        "desiredCount": 0,
        "serviceName": "flask-signup-service",
        "clusterArn": "arn:aws:ecs:ap-northeast-2:123456789012:cluster/default",
        "serviceArn": "arn:aws:ecs:ap-northeast-2:123456789012:service/flask-signup-service",
        "runningCount": 1
    }
}
